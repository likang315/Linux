### 文件系统命令

------

​	在Linux系统中，用户是按组分类的，一个用户属于一个或多个组

##### 1：文件系统层次化标准（FHS）

（1）Linux文件系统一切从根（/）开始 （2）拓扑结构：倒置的树型 （3）目录的名称默认小写，且区分大小写，如：root，POOT，Root，rOOt是不同目录 （4）常用目录意义 /：根目录 a./boot：系统启动文件存储目录 b./root：root账户的家目录 == ~ c./home/普通账户名：普通user家目录 d./dev：设备文件目录 e./etc(etcetera)：配置文件目录 f./var：日志文件目录 g./media：设备挂载常用目录 h./bin(binary)：二进制可执行文件目录 i./tmp：临时文件或共享文件目录 j./usr：应用程序存放目录

（5）注意：FHS不是一种强制性约束规范，但却是一种默认的行业标准，应该按照目录功能分类存储文件

### 2：mkdir 命令

（1）作用：新建目录 （2）格式：mkdir -参数 绝对路径/目录名

###### （3）参数：-p 用于建立多级递归目录

（4）例如：

?	mkdir temp1 ?	mkdir temp2 temp3 temp4 ?	mkdir -p t1/t2/t3/t4（递归目录）

### 3：touch 命令

###### （1）作用：新建空白文件，可以设置文件相关时间

（2）格式：touch -参数 文件名 （3）参数： a: -a ： 设置文件atime访问时间 b: -m ：设置文件的mtime修改时间 c: -d ： 同时设置上述 2个 时间

(4) 例： touch tmp.txt touch /root/tmp1.txt touch test touch a1 a2 a3 touch k{a1,a2,a3} touch -d "yyyy-mm-dd hh：mm：ss" 文件名

### 4：rm 命令

（1）作用：删除目录及文件

###### （2）格式：rm -参数 目录名或文件名

（3）参数： a: -f：不确认，直接删除 b: -r：删除目录 c: -rf：删除目录，不确认，强制删除 （4）注意：生产环境中禁用-f参数，以避免误删除文件及目录

### 5：cp 命令

###### （1）：拷贝复制文件或目录

（2）：格式：cp 参数 源 目标 （3）：参数 a: -p ：保留原始文件的属性 b: -d ：若对象为”链接文件“，则保留该”链接文件“的属性 c: -r ：递归持续复制（复制目录时使用） d: -i ：若目标文件存在则询问是否覆盖 e: -a ：相当于-pdr

（4）注意： a:目标为目录则正常复制 b:目标为文件则询问是否覆盖 c:目标为文件且不存在则正常复制

### 6：mv命令

###### （1）作用：将文件或目录的名称进行改名或将文件移动到另一个目录中（剪切）

###### （2）格式： mv 参数 源 目标

（3）注意： a:源为文件，目标为目录，则为移动剪切 mv t1.txt /root b:源为文件，目标为文件，则为改名 mv t1.txt t1.cfg c:源为目录，目标为目录，则为改名 mv t1 t2

### 7：dd命令

###### （1）作用：制作指定容量的文件

（2）格式：dd if=来源 of=文件名 ds=容量 count=块个数 （3）例：制作空文件（内容为全零） a:dd if=/dev/zero of=kong.txt bs=100M count=2 b:/dev/zero :是一个输出全零数据的设备文件，器本身不占用空间，用于对新文件进行数据填充 c:bs= ：表示新文件容量，以 K M G T作为单位 d:count= :制作文件由几个数据块组成 （4）例：利用光驱制作Linux 系统镜像文件： dd: if=dev/cdrom of=CentOS7_x86_64.iso

### 8.文件查看操作命令

##### (1)file 命令

###### a.作用：显示文件类型

?	b.格式：file 文件名 ?	c.文件类型 ?	(a).empty ：空文件（未知类型） ?	(b).ASCII test ：ASCII码文本文件 ?	(c).character special :字节设备文件 ?	(d).block special ：块设备文件 ?	(e).link :链接文件（快捷方式）

### (2)cat 命令

###### a.作用：拼接纯文本文件或者或者显示文本内容

?	b. 格式：cat -参数 文件名 ?	c.例如：cat /etc/passwd ?	d.合并文件： ?	(a)touch a1.txt a2.txt a3.txt ?	(b)echo “china” > a1.txt ?	(c)echo “123456” > a2.txt ?	(d)cat a1.txt a2.txt > a3.txt ?	e.参数 ?	(a).-b :文件中所有非空行增加行号，从1开始编号 ?	(b).-n ：文件中所有行增加行号（包括空行）

### (3)tac命令

###### a.作用：倒叙查看文本内容

?	b.格式：tac 文件名

##### (4) more 命令

###### a.作用：查看“内容较多”的文本文件内容

?	b.格式：more -参数 文件名 ?	c.参数 ?	(a).-s ：将输出文件中的空行减少为一个空行 ?	(b).-数字 ： 如-10，表示一屏显示10行，包括空行 ?	d.注意：more 一般与管道符配合使用 ?	例如：查看内容较多的目录：ls -a | more ?	e.退出查看：点击q键

##### (5)less命令

###### a.作用：分页显示文件内容

?	b.格式：less 文件名 ?	c.注意：使用空格或k向下翻页，使用j键向上翻页

### (6) head 命令

###### a.作用：查看 指定行数 的文本首部内容

b.格式：head -n 数字 文件名 c.例如：head -n 10 /etc/passwd 查看前10行

### (7) tail 命令

###### a.作用：查看文本文件后n行内容

b.格式：tail -参数 文件名 c.例：tail -f /var/log/messags：查看日志文件，且可以动态刷新（-f）

?	tail -n 100 文件名 ：查看文件后一百行内容

### (8)wc命令（Word Count ）

###### a.作用：统计文件的容量、行数、字节数信息

b.格式：wc -参数 文件名 c.参数 (a).-l ： 只显示行数 (b).-w ： 只显示单词数 (c).-c ： 只显示字节数 d.注意：wc命令一般与管道符配合使用，例如：查看目录的信息：ls -a \ | wc

### (9)stat命令

###### a.作用：查看文件属性，如：容量、类型、时间等信息

b.格式：stat 文件名 c.时间信息

?	(a)Access ：访问时间，等同于atime ?	(b)Modify ：修改时间，等同于 mtime ?	(c)Change ：状态改动时间，等同于ctime

### (10) tar 命令

###### a:文件的 解压 或 压缩

b:tar -参数 目录 c: -c ：压缩 -x ：解压 -z ：是否使用gzip压缩 -v ：压缩过程显示文件 -f ：使用档名

###### d：解压常用-zxvf

###### 压缩常用 -zcvf

### (11)chmod 命令

###### a:作用：变更文件或目录的权限

b:格式：chmod 参数 权限范围 符号 权限代号 文件或目录

###### -R : 进行递归(recursive)的持续变更，亦即连同次目录下的所有文件都会变更

###### c:权限范围表示法

u：User,文件或目录的拥有者 g：Group,文件或目录的所属群组 o：Other,其他用户 a：ALL,全部用户

###### d:符号

+：增加权限

-：取消权限 = ：设定权限 e:权限代号 r：读取权限,数字代号：4 w：写入权限,数字代号：2 x：执行或切换权限,数字代号：1 -：不具有任何权限，数字代号：0

例：rwx=4+2+1=7

d: chmod -R u=rwx,g=rx,o=r dest_file 符号法 chomd 777 test	数字法

chmod u+w dest_file：给目标文件的User增加 w 权限

### (12) 文件属性格式：

例：drw-r--r-- 1 root root 27974 Oct 27 2009 install.log

第1位：类型 d :目录，-:普通文件，|:链接文件 2-4位：所属用户权限 5-7位：所属组权限 8-10位：其他用户权限 第一个参数：owner 第二个参数：group

### 9.文件查找命令

###### (1).作用：按照指定条件查找文件

###### (2).格式：find 查找路径 查找条件 操作

(3).查找条件： a.-name ： 按照名称查找 b.-user ： 按照所有者查找 c.-group ： 按照所属组查找 d.-type b/d/c/p/l/f	：按照文件类型（块设备、目录、字符设备、管道、链接文件、文本文件） e.-size ：按照文件大小查找（+大于 、-小于）

(4).通配符 a.* ： 任意内容、任意个数 b.？： 任意内容、1个

(5).例如： a./下查找以host开头的文件：find / -name “host*” b.查找所有的日志文件：find /var -name “*.log” c.查找网卡文件并显示详细信息： find /etc -name “ifcfg-ens33” -lsd.查找/etc中大于1000k的文件 find /etc -size +1000k 大于 find /etc -size -10k -name “a*.*” 小于（多条件） e. 查找大于500M 的文件 find / -size +500M find / -size +10M -size -1G （区间） f.查找属于root账户的文件：find ~ -user root find / -user root -name “a*” -size -2k （多条件） g.查找50k容量的文件：find / -size 50k h.查找以a开头且为4位名称的文件并统计大小 find / -name “a???” | wc i.查找包含a的文件并写入到tt.txt文件中： find ~ -name “*a*” > tt.txt j.查找所有块设备：find /dev -type b k.查找所有目录：find / -type d l.查找所有的空文件：find / -empty m.查找5天以内的修改过的文件 find / -mtime -5 以内修改 find / -atime +5 以前访问

##### (6).which命令

?	a.作用：显示PATH环境变量中的执行命令路径 ?	b.格式：which 文件名 ?	c.例如：which cat

```
	        which  find
	d.注意：默认路径：/bin
```

### 10：特殊命令

（2):| 管道符 a:命令1 | 命令2 将命令1 内容的输出作为命令2 的输入 b:常与 grep 联用

（3):grep :全局表达式 a：用于过滤或者搜索特定的字符 b：grep 参数 pattern 文件名

?	grep -i "q" abc.txt这样就不区分大小写了