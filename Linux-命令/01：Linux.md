### linux 操作系统：一切都是文件

------

##### 1：OS：管理计算机软硬件资源，向用户提供使用界面及设备接口

1. 管理者
   - 管理软件资源：软件的安装，下载，更新等
   - 管理硬件资源：管理cpu的运行时间，内存的存储空间问题
2. 提供接口及界面
   - 接口：操作系统的基本功能

1. 进程管理（PM）：管理 cpu 的运行时间
2. 存储管理：管理内存的空间
3. 文件管理：管理硬盘的文件（文件系统）NTFS格式
4. 设备管理：管理除CPU之外的I\O设备
5. 网络管理：协议，地址，缓存，连接，安装等

##### 2：Linux系统架构

硬件—>内核—>系统调用—>壳（shell)—>库函数—>GUI

![](https://github.com/likang315/Linux/blob/master/Linux%20%E8%BF%90%E7%BB%B4/Linux/%E4%B8%8B%E8%BD%BD.png)

- c的函数库：库函数可以理解为是对系统调用的一层封装，再去调用系统调用
- 系统调用（system call）：kernel 提供一系列具备对系统硬件设备功能操作的内核函数，通过一组称为系统调用（system call）的接口呈现给用户，用户下达指令，通过进Shell 翻译来实现功能
- 壳 shell：指为使用者提供操作界面的软件（命令解析器）
  - 终端(Terminal)：接收用户的输入命令，显示传过来的输出，例：cmd
  - shell：用于操控系统内核的命令解释器，包含了shell语言和命令行解释器
    1. bash
    2. sh
    3. zsh：完美兼容bash语法
- 内核的结构
  1. 进程管理（PM）：负责创建，销毁以及进程间通信
  2. 内存管理（MM）：负责内存空间使用，扩展，安全等功能管理
  3. 虚拟文件系统（VFS）：为文件系统提供了一个通用的抽象接口，将多种文件系统虚拟成一个面向用户的文件系统
  4. 设备驱动：内置大量物理设备驱动，实现设备的识别及运行
  5. 网络管理：通过TCP\IP协议，实现网络通信及管理

##### 3：linux OS启动过程

宏观过程：加电自检-->BIOS（基本输入输出程序）-->引导程序-->加载OS

1. 加电自检（POST），通电进行物理运行检查，检测CPU，内存设备等是否正常
2. BIOS：调用基本输入输出程序
   - BIOS 程序写在主板上的BIOS ROM 芯片中
   - BIOS程序设置的参数写在主板上的CMOS RAM 芯片中
3. 加载磁盘引导记录
   - 读取GRUB2文件的信息，确定引导记录内容
   - 读取硬盘上的mbr文件信息，确定硬盘分区信息
4. 加载OS
   1. 加载kernel：kernel初始化后加载到虚拟内存空间中
   2. 加载根文件系统（\）
   3. 初始化启动第一个进程：systemd，该进程为第一个系统进程，PID值为1
   4. 加载终端（壳 shell）：6个tty 或 5个tty 和一个GUI
   5. 进程登录
      - 图形界面登录
      - 命令行登录
      - 远程登录 pts/0 
   6. 登录后加载环境变量

##### 04：包管理工具

- Linux 系统基本上分两大类：

  - RedHat系列：Redhat、Centos、Fedora等
    - 使用yum管理包依赖，软件包格式为 rpm 包；
  - Debian系列：Debian、Ubuntu等
    - 包管理工具 apt-get 
  - HomeBrew 是Mac os 包管理工具

  